<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Treasure Found Prototype</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- A-Frame + AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>

    <style>
      body {
        margin: 0;
        overflow: hidden;
      }

      #message {
        position: fixed;
        top: 15px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.7);
        color: gold;
        font-size: 1.2rem;
        font-weight: bold;
        padding: 10px 20px;
        border-radius: 12px;
        display: none;
        z-index: 2;
      }
    </style>
  </head>

  <body>
    <div id="message">ðŸŽ‰ Treasure Found!</div>

    <a-scene embedded arjs="sourceType: webcam;">
      <!-- built-in HIRO marker -->
      <a-marker preset="hiro" id="treasureMarker">
        <!-- 3D board -->
        <a-plane
          position="0 0.5 0"
          rotation="-90 0 0"
          width="2"
          height="1"
          color="#111"
          material="opacity: 0.9; side: double;"
        ></a-plane>

        <!-- Text on the board -->
        <a-text
          value="here will be our clue"
          position="0 0.55 0.01"
          rotation="-90 0 0"
          align="center"
          color="lime"
          width="4"
          shader="msdf"
        ></a-text>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      const msg = document.getElementById("message");
      const marker = document.querySelector("#treasureMarker");

      marker.addEventListener("markerFound", () => {
        msg.style.display = "block";
      });

      marker.addEventListener("markerLost", () => {
        msg.style.display = "none";
      });
    </script>
  </body>
</html>
